<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/page-settings :: head}"></head>

<body>

	<header th:replace="~{fragments/page-settings :: header('tickets')}">
	</header>

	<main>
		<div class="container">
			<div class="row justify-content-center">
				<h1 class="text-center mb-3">Ticket view</h1>
				<hr>
				<div class="card text-center" style="width: 30rem;" th:object="${ticket}">
					<div class="card-header bg-white">
						Showing Ticket: #[[*{id}]]
					</div>
					<div class="card-body">
						<h5 class="card-title">[[*{title}]]</h5>
						<p class="card-text">[[*{text}]]</p>
						<th:block th:if="*{notes.size()} > 0">
							<hr>
							<ul th:each="note : *{notes}">
								<li>Author: [[${note.author}]]</li>
								<li>Note: [[${note.text}]]</li>
								<li>Created at: [[${note.createdAt}]]</li>
							</ul>
						</th:block>
						<hr>
						<div class="row wrap justify-content-center gap-2">
							<a class="col-auto btn btn-sm btn-dark" th:href="@{/notes/create}" data-toggle="tooltip"
								title="Add Note">&#43; &#128456;</a>
							<a class="col-auto btn btn-sm btn-dark" th:href="@{/tickets/edit/{id}(id=${ticket.id})}"
								data-toggle="tooltip" title="Edit">&#9998;</a>
							<a class="col-auto btn btn-sm btn-dark" th:href="@{/tickets/delete/{id}(id=${ticket.id})}"
								data-toggle="tooltip" title="Delete">&#x1F5D1;</a>
						</div>
					</div>
					<div class="card-footer bg-white text-muted">
						Created at: [[*{createdAt}]]
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer>

	</footer>
</body>

<th:block th:replace="~{fragments/page-settings :: scripts}"></th:block>

</html>